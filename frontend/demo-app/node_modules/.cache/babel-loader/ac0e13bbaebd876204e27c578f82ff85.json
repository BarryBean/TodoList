{"ast":null,"code":"var _jsxFileName = \"D:\\\\CodePractice\\\\TodoList\\\\frontend\\\\demo-app\\\\src\\\\Dialog.js\";\nimport React, { Component, useState } from 'react';\nimport _ from \"lodash\";\nimport { getTodos, addTodo, deleteTodo, updateTodo } from \"./api/TodoApi\";\n\nconst Dialog = addNewTask => {\n  const [inputValue, setInputValue] = useState(\"\");\n  const [list, setList] = useState(null); // handleClick () {\n  // \tvar len = this.props.nums;\n  // \tvar newid = len > 0 ? len : 0;\n  // \tvar value = this.refs.myText.value;\n  // \tif (value !== '') {\n  // \t\tvar obj = {\n  // \t\t\tid: newid,\n  // \t\t\tcontent: value,\n  // \t\t};\n  // \t\tthis.refs.myText.value = '';\n  // \t\tthis.props.addNewTask(obj);\n  // \t}\n  // }\n\n  const handleAddTask = () => {\n    if (inputValue === \"\") return;\n    const newTask = {\n      id: _.parseInt(list.length ? list[list.length - 1].id : 0) + 1,\n      content: inputValue\n    };\n    addTodo(newTask).then(() => {\n      setList([...list, newTask]);\n      setInputValue(\"\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dialog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, \"\\u6DFB\\u52A0\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"task-input\",\n    value: inputValue,\n    onChange: e => setInputValue(e.target.value),\n    placeholder: \"\\u8BF7\\u8F93\\u5165\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"submit-button\",\n    onClick: handleAddTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, \"\\u63D0\\u4EA4\")));\n};\n\nexport default Dialog;","map":{"version":3,"sources":["D:/CodePractice/TodoList/frontend/demo-app/src/Dialog.js"],"names":["React","Component","useState","_","getTodos","addTodo","deleteTodo","updateTodo","Dialog","addNewTask","inputValue","setInputValue","list","setList","handleAddTask","newTask","id","parseInt","length","content","then","e","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAAQC,QAAR,EAAkBC,OAAlB,EAA2BC,UAA3B,EAAuCC,UAAvC,QAAwD,eAAxD;;AAEA,MAAMC,MAAM,GAAIC,UAAD,IAAgB;AAE3B,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,IAAD,CAAhC,CAH2B,CAK3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAMY,aAAa,GAAG,MAAM;AACxB,QAAIJ,UAAU,KAAK,EAAnB,EAAuB;AAEvB,UAAMK,OAAO,GAAG;AACZC,MAAAA,EAAE,EAAEb,CAAC,CAACc,QAAF,CAAWL,IAAI,CAACM,MAAL,GAAcN,IAAI,CAACA,IAAI,CAACM,MAAL,GAAc,CAAf,CAAJ,CAAsBF,EAApC,GAAyC,CAApD,IAAyD,CADjD;AAEZG,MAAAA,OAAO,EAAET;AAFG,KAAhB;AAKAL,IAAAA,OAAO,CAACU,OAAD,CAAP,CAAiBK,IAAjB,CAAsB,MAAM;AACxBP,MAAAA,OAAO,CAAC,CAAC,GAAGD,IAAJ,EAAUG,OAAV,CAAD,CAAP;AACAJ,MAAAA,aAAa,CAAC,EAAD,CAAb;AACH,KAHD;AAIH,GAZD;;AAeA,sBACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,SAAS,EAAC,YAA7B;AAA0C,IAAA,KAAK,EAAED,UAAjD;AACR,IAAA,QAAQ,EAAGW,CAAD,IAAOV,aAAa,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CADtB;AACwC,IAAA,WAAW,EAAC,oBADpD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACR;AAAQ,IAAA,SAAS,EAAC,eAAlB;AAAkC,IAAA,OAAO,EAAET,aAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADQ,CANJ,CADJ;AAcH,CAhDD;;AAkDA,eAAeN,MAAf","sourcesContent":["import React, {Component, useState} from 'react';\r\nimport _ from \"lodash\";\r\nimport {getTodos, addTodo, deleteTodo, updateTodo} from \"./api/TodoApi\";\r\n\r\nconst Dialog = (addNewTask) => {\r\n\r\n    const [inputValue, setInputValue] = useState(\"\");\r\n    const [list, setList] = useState(null);\r\n\r\n    // handleClick () {\r\n    // \tvar len = this.props.nums;\r\n    // \tvar newid = len > 0 ? len : 0;\r\n    // \tvar value = this.refs.myText.value;\r\n    // \tif (value !== '') {\r\n    // \t\tvar obj = {\r\n    // \t\t\tid: newid,\r\n    // \t\t\tcontent: value,\r\n    // \t\t};\r\n    // \t\tthis.refs.myText.value = '';\r\n    // \t\tthis.props.addNewTask(obj);\r\n    // \t}\r\n    // }\r\n\r\n    const handleAddTask = () => {\r\n        if (inputValue === \"\") return;\r\n\r\n        const newTask = {\r\n            id: _.parseInt(list.length ? list[list.length - 1].id : 0) + 1,\r\n            content: inputValue,\r\n        };\r\n\r\n        addTodo(newTask).then(() => {\r\n            setList([...list, newTask]);\r\n            setInputValue(\"\");\r\n        });\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"dialog\">\r\n            <div>\r\n                <h3>添加</h3>\r\n                <input type=\"text\" className=\"task-input\" value={inputValue}\r\n\t\t\t\t\t   onChange={(e) => setInputValue(e.target.value)} placeholder=\"请输入\"/>\r\n            </div>\r\n            <div>\r\n\t\t\t\t<button className=\"submit-button\" onClick={handleAddTask}>\r\n\t\t\t\t\t提交\r\n\t\t\t\t</button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dialog;"]},"metadata":{},"sourceType":"module"}