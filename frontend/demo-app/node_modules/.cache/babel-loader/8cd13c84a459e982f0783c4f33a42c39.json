{"ast":null,"code":"var _jsxFileName = \"D:\\\\CodePractice\\\\TodoList\\\\frontend\\\\demo-app\\\\src\\\\TodoList.js\";\nimport React, { Component, useEffect, useState } from 'react';\nimport ListItem from './ListItem';\nimport Dialog from './Dialog';\nimport { getTodos, addTodo, deleteTodo, updateTodo } from \"./api/TodoApi\";\nimport './main.css';\n\nclass TodoList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleLoadTask = () => {\n      getTodos().then(response => {\n        setList;\n      });\n    };\n\n    document.title = \"TodoList\";\n    this.state = {\n      list: [{\n        id: 0,\n        name: '找个日常实习',\n        status: 0\n      }, {\n        id: 1,\n        name: '待到明年1月',\n        status: 0\n      }, {\n        id: 2,\n        name: '再来看看春招',\n        status: 0\n      }],\n      finished: 0\n    };\n    const [inputValue, setInputValue] = useState(\"\");\n    const [list, _setList] = useState(null);\n    const [error, setError] = useState(\"\");\n  }\n\n  addTask(newitem) {\n    var allTask = this.state.list;\n    allTask.push(newitem);\n    this.setState({\n      list: allTask\n    });\n  }\n\n  updateFinished(todoItem) {\n    var sum = 0;\n    this.state.list.forEach(item => {\n      if (item.id === todoItem.id) {\n        item.status = todoItem.status;\n        item.name = todoItem.name;\n      }\n\n      if (item.status === 1) {\n        sum++;\n      }\n    });\n    this.setState({\n      finished: sum\n    });\n  }\n\n  updateTotal(todoItem) {\n    var obj = [],\n        sum = 0;\n    this.state.list.forEach(item => {\n      if (item.id !== todoItem.id) {\n        obj.push(item);\n\n        if (item.status === 1) {\n          sum++;\n        }\n      }\n    });\n    this.setState({\n      list: obj,\n      finished: sum\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }\n    }, \"TodoList\"), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"task-items\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 5\n      }\n    }, this.state.list.map((item, index) => /*#__PURE__*/React.createElement(ListItem, {\n      item: item,\n      finishedChange: this.updateFinished.bind(this),\n      totalChange: this.updateTotal.bind(this),\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }\n    }))), /*#__PURE__*/React.createElement(Dialog, {\n      addNewTask: this.addTask.bind(this),\n      nums: this.state.list.length,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 5\n      }\n    }));\n  }\n\n}\n\nexport default TodoList;","map":{"version":3,"sources":["D:/CodePractice/TodoList/frontend/demo-app/src/TodoList.js"],"names":["React","Component","useEffect","useState","ListItem","Dialog","getTodos","addTodo","deleteTodo","updateTodo","TodoList","constructor","props","handleLoadTask","then","response","setList","document","title","state","list","id","name","status","finished","inputValue","setInputValue","error","setError","addTask","newitem","allTask","push","setState","updateFinished","todoItem","sum","forEach","item","updateTotal","obj","render","map","index","bind","length"],"mappings":"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","sourcesContent":["import React, { Component ,useEffect,useState} from 'react';\r\nimport ListItem from './ListItem';\r\nimport Dialog from './Dialog';\r\nimport { getTodos, addTodo, deleteTodo, updateTodo } from \"./api/TodoApi\";\r\nimport './main.css';\r\n\r\nclass TodoList extends Component {\r\n\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t\tdocument.title=\"TodoList\";\r\n\t\tthis.state = {\r\n\t\t\tlist: [{\r\n\t\t\t\tid: 0,\r\n\t\t\t\tname: '找个日常实习',\r\n\t\t\t\tstatus: 0\r\n\t\t\t}, {\r\n\t\t\t\tid: 1,\r\n\t\t\t\tname: '待到明年1月',\r\n\t\t\t\tstatus: 0\r\n\t\t\t}, {\r\n\t\t\t\tid: 2,\r\n\t\t\t\tname: '再来看看春招',\r\n\t\t\t\tstatus : 0\r\n\t\t\t}],\r\n\t\t\tfinished: 0\r\n\t\t};\r\n\t\tconst [inputValue, setInputValue] = useState(\"\");\r\n\t\tconst [list, setList] = useState(null);\r\n\t\tconst [error, setError] = useState(\"\");\r\n\t}\r\n\r\n\thandleLoadTask=()=>{\r\n\t\tgetTodos().then((response) =>{\r\n\t\t\tsetList\r\n\t\t})\r\n\t}\r\n\r\n\taddTask (newitem) {\r\n\t\tvar allTask = this.state.list;\r\n\t\tallTask.push(newitem);\r\n\t\tthis.setState({\r\n\t\t\tlist: allTask\r\n\t\t});\r\n\t}\r\n\r\n\tupdateFinished (todoItem) {\r\n\t\tvar sum = 0;\r\n\t\tthis.state.list.forEach( (item) => {\r\n\t\t\tif (item.id === todoItem.id) {\r\n\t\t\t\titem.status = todoItem.status;\r\n\t\t\t\titem.name=todoItem.name;\r\n\t\t\t}\r\n\t\t\tif (item.status === 1) {\r\n\t\t\t\tsum++;\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tfinished: sum\r\n\t\t});\r\n\t}\r\n\r\n\tupdateTotal (todoItem) {\r\n\t\tvar obj = [], sum = 0;\r\n\t\tthis.state.list.forEach((item) => {\r\n\t\t\tif (item.id !== todoItem.id) {\r\n\t\t\t\tobj.push(item);\r\n\t\t\t\tif (item.status === 1 ) {\r\n\t\t\t\t\tsum++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tlist: obj,\r\n\t\t\tfinished: sum\r\n\t\t});\r\n\t}\r\n\r\n\trender () {\r\n\t\treturn (\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<h1>TodoList</h1>\r\n\t\t\t\t<ul className=\"task-items\">\r\n\t\t\t\t\t{ this.state.list.map ((item, index) =>\r\n\t\t\t\t\t\t<ListItem \r\n\t\t\t\t\t\t\titem={item}  \r\n\t\t\t\t\t\t\tfinishedChange={this.updateFinished.bind(this)} \r\n\t\t\t\t\t\t\ttotalChange={this.updateTotal.bind(this)}\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ul>\r\n\t\t\t\t<Dialog addNewTask={this.addTask.bind(this)} nums={this.state.list.length}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default TodoList;"]},"metadata":{},"sourceType":"module"}