{"ast":null,"code":"var _jsxFileName = \"D:\\\\CodePractice\\\\react\\\\demo-app\\\\src\\\\TodoList.js\";\nimport React, { Component } from 'react';\nimport ListItem from './ListItem';\nimport Dialog from './Dialog';\nimport './main.css';\n\nclass TodoList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [{\n        id: 0,\n        name: '吃饭',\n        status: 0\n      }, {\n        id: 1,\n        name: '睡觉',\n        status: 0\n      }, {\n        id: 2,\n        name: '打豆豆',\n        status: 0\n      }],\n      finished: 0\n    };\n  }\n\n  addTask(newitem) {\n    var allTask = this.state.list;\n    allTask.push(newitem);\n    this.setState({\n      list: allTask\n    });\n  }\n\n  updateFinished(todoItem) {\n    var sum = 0;\n    this.state.list.forEach(item => {\n      if (item.id === todoItem.id) {\n        item.status = todoItem.status;\n      }\n\n      if (item.status === 1) {\n        sum++;\n      }\n    });\n    this.setState({\n      finished: sum\n    });\n  }\n\n  updateTotal(todoItem) {\n    var obj = [],\n        sum = 0;\n    this.state.list.forEach(item => {\n      if (item.id !== todoItem.id) {\n        obj.push(item);\n\n        if (item.status === 1) {\n          sum++;\n        }\n      }\n    });\n    this.setState({\n      list: obj,\n      finished: sum\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }\n    }, \"TodoList\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }\n    }, this.state.list.map((item, index) => /*#__PURE__*/React.createElement(ListItem, {\n      item: item,\n      finishedChange: this.updateFinished.bind(this),\n      totalChange: this.updateTotal.bind(this),\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 6\n      }\n    }, this.state.finished, \"\\u5DF2\\u5B8C\\u6210\\xA0/\\xA0\", this.state.list.length, \"\\u603B\\u6570\")), /*#__PURE__*/React.createElement(Dialog, {\n      addNewTask: this.addTask.bind(this),\n      nums: this.state.list.length,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }\n    }));\n  }\n\n}\n\nexport default TodoList;","map":{"version":3,"sources":["D:/CodePractice/react/demo-app/src/TodoList.js"],"names":["React","Component","ListItem","Dialog","TodoList","constructor","props","state","list","id","name","status","finished","addTask","newitem","allTask","push","setState","updateFinished","todoItem","sum","forEach","item","updateTotal","obj","render","map","index","bind","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport ListItem from './ListItem';\r\nimport Dialog from './Dialog';\r\nimport './main.css';\r\n\r\nclass TodoList extends Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tlist: [{\r\n\t\t\t\tid: 0,\r\n\t\t\t\tname: '吃饭',\r\n\t\t\t\tstatus: 0\r\n\t\t\t}, {\r\n\t\t\t\tid: 1,\r\n\t\t\t\tname: '睡觉',\r\n\t\t\t\tstatus: 0\r\n\t\t\t}, {\r\n\t\t\t\tid: 2,\r\n\t\t\t\tname: '打豆豆',\r\n\t\t\t\tstatus : 0\r\n\t\t\t}],\r\n\t\t\tfinished: 0\r\n\t\t};\r\n\t}\r\n\r\n\taddTask (newitem) {\r\n\t\tvar allTask = this.state.list;\r\n\t\tallTask.push(newitem);\r\n\t\tthis.setState({\r\n\t\t\tlist: allTask\r\n\t\t});\r\n\t}\r\n\r\n\tupdateFinished (todoItem) {\r\n\t\tvar sum = 0;\r\n\t\tthis.state.list.forEach( (item) => {\r\n\t\t\tif (item.id === todoItem.id) {\r\n\t\t\t\titem.status = todoItem.status;\r\n\t\t\t}\r\n\t\t\tif (item.status === 1) {\r\n\t\t\t\tsum++;\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tfinished: sum\r\n\t\t});\r\n\t}\r\n\r\n\tupdateTotal (todoItem) {\r\n\t\tvar obj = [], sum = 0;\r\n\t\tthis.state.list.forEach((item) => {\r\n\t\t\tif (item.id !== todoItem.id) {\r\n\t\t\t\tobj.push(item);\r\n\t\t\t\tif (item.status === 1 ) {\r\n\t\t\t\t\tsum++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tlist: obj,\r\n\t\t\tfinished: sum\r\n\t\t});\r\n\t}\r\n\r\n\trender () {\r\n\t\treturn (\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<h1>TodoList</h1>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t{ this.state.list.map ((item, index) =>\r\n\t\t\t\t\t\t<ListItem \r\n\t\t\t\t\t\t\titem={item}  \r\n\t\t\t\t\t\t\tfinishedChange={this.updateFinished.bind(this)} \r\n\t\t\t\t\t\t\ttotalChange={this.updateTotal.bind(this)}\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<li>{this.state.finished}已完成&nbsp;/&nbsp;{this.state.list.length}总数</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<Dialog addNewTask={this.addTask.bind(this)} nums={this.state.list.length}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default TodoList;"]},"metadata":{},"sourceType":"module"}