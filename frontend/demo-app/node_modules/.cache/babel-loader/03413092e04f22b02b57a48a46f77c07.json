{"ast":null,"code":"var _jsxFileName = \"D:\\\\CodePractice\\\\TodoList\\\\frontend\\\\demo-app\\\\src\\\\ListItem.js\";\nimport React, { Component } from 'react';\n\nclass ListItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeClick = () => {\n      this.setState({\n        showInput: true\n      });\n    };\n\n    this.handleCloseClick = () => {\n      this.setState({\n        showInput: !this.state.showInput\n      });\n    };\n\n    this.trim = str => {\n      return str.replace(/^(\\s|\\u00A0)+/, '').replace(/(\\s|\\u00A0)+$/, '');\n    };\n\n    this.handleAffirmClick = () => {\n      //回调确定方法\n      let obj = {}; // obj.value = this.state.valueCon;\n      // obj.label = this.props.name;\n\n      obj[this.props.name] = this.state.valueCon; //判断是否需要id\n\n      if (this.props.idName) {\n        obj[this.props.idName] = this.props.id;\n      }\n\n      this.props.handleOk(obj); //关闭输入框\n\n      this.setState({\n        showInput: this.props.isShow\n      });\n    };\n\n    this.handleChange = e => {\n      console.log(e.target.value);\n      this.setState({\n        valueCon: e.target.value\n      });\n    };\n\n    this.handleDeleteClick = () => {\n      let obj = {}; // obj.value = this.state.valueCon;\n      // obj.label = this.props.name;\n\n      obj[this.props.name] = this.state.valueCon; //判断是否需要id\n\n      if (this.props.idName) {\n        obj[this.props.idName] = this.props.id;\n      }\n\n      this.props.handleDelete(obj);\n    };\n\n    this.state = {\n      showInput: false,\n      valueCon: ''\n    };\n    this.handleFinished = this.handleFinished.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleUpdate = this.handleUpdate.bind(this);\n  }\n\n  handleFinished() {\n    var status = this.props.item.status;\n    status = status === 0 ? 1 : 0;\n    var obj = {\n      id: this.props.item.id,\n      name: this.props.item.name,\n      status: status\n    };\n    this.props.finishedChange(obj);\n  }\n\n  handleDelete() {\n    this.props.totalChange(this.props.item);\n  }\n\n  handleUpdate() {\n    var obj = {\n      id: this.props.item.id,\n      name: this.props.item.name,\n      status: this.props.item.status\n    };\n    this.props.finishedChange(obj);\n  } //点击展示输入框\n\n\n  componentDidMount() {\n    this.setState({\n      valueCon: this.props.value\n    });\n  }\n\n  render() {\n    const item = this.props.item;\n    const unfinish = {\n      backgroundColor: '#DFFCB5',\n      color: '#2EB872'\n    };\n    const finish = {\n      backgroundColor: '#FFFA9D',\n      color: '#FF9A3C',\n      textDecoration: 'line-through'\n    };\n    var itemStyle = item.status === 0 ? unfinish : finish;\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: item.id,\n      style: itemStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      onClick: this.handleFinished,\n      id: item.id,\n      className: \"check-btn\",\n      style: {\n        backgroundColor: item.status === 0 ? '#fff' : '#A1EAFB'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 5\n      }\n    }), !this.state.showInput ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"update-btn\",\n      onClick: this.handleChangeClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 6\n      }\n    }, \"\\u4FEE\\u6539\") : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"write_input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"write_input_name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\",\n      defaultValue: this.props.value === '-' ? '' : this.props.value,\n      onChange: this.handleChange,\n      style: {\n        height: '25px',\n        margin: '0'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"write_input_hide\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      type: \"check-circle\",\n      className: \"write_input_hide_yes\",\n      onClick: this.handleAffirmClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 8\n      }\n    }, \"yes\"), /*#__PURE__*/React.createElement(\"span\", {\n      type: \"close-circle\",\n      className: \"write_input_hide_no\",\n      onClick: this.handleCloseClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 8\n      }\n    }, \"no\"))), /*#__PURE__*/React.createElement(\"span\", {\n      onClick: this.handleUpdate,\n      className: \"update\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 5\n      }\n    }, item.name), /*#__PURE__*/React.createElement(\"span\", {\n      onClick: this.handleDelete,\n      className: \"delete-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 5\n      }\n    }, \"\\u5220\\u9664\"));\n  }\n\n}\n\nexport default ListItem;","map":{"version":3,"sources":["D:/CodePractice/TodoList/frontend/demo-app/src/ListItem.js"],"names":["React","Component","ListItem","constructor","props","handleChangeClick","setState","showInput","handleCloseClick","state","trim","str","replace","handleAffirmClick","obj","name","valueCon","idName","id","handleOk","isShow","handleChange","e","console","log","target","value","handleDeleteClick","handleDelete","handleFinished","bind","handleUpdate","status","item","finishedChange","totalChange","componentDidMount","render","unfinish","backgroundColor","color","finish","textDecoration","itemStyle","height","margin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass ListItem extends Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\tshowInput:false,\r\n\t\t\tvalueCon:'',\r\n\t\t}\r\n\t\tthis.handleFinished = this.handleFinished.bind(this);\r\n\t\tthis.handleDelete = this.handleDelete.bind(this);\r\n\t\tthis.handleUpdate = this.handleUpdate.bind(this);\r\n\t} \r\n\r\n\thandleFinished () {\r\n\t\tvar status = this.props.item.status;\r\n\r\n\t\tstatus = (status === 0 ? 1 : 0);\r\n\r\n\t\tvar obj = {\r\n\t\t\tid: this.props.item.id,\r\n\t\t\tname: this.props.item.name,\r\n\t\t\tstatus: status\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.finishedChange(obj);\t\r\n\t}\r\n\r\n\thandleDelete () {\r\n\t\tthis.props.totalChange(this.props.item);\r\n\t}\r\n\r\n\thandleUpdate (){\r\n\r\n\t\tvar obj = {\r\n\t\t\tid: this.props.item.id,\r\n\t\t\tname: this.props.item.name,\r\n\t\t\tstatus: this.props.item.status\r\n\t\t}\r\n\r\n\t\tthis.props.finishedChange(obj);\r\n\t}\r\n\r\n\r\n\t//点击展示输入框\r\n\thandleChangeClick = () => {\r\n\t\tthis.setState({\r\n\t\t\tshowInput:true\r\n\t\t})\r\n\t};\r\n//点击关闭输入框\r\n\thandleCloseClick = () => {\r\n\t\tthis.setState({\r\n\t\t\tshowInput:!this.state.showInput\r\n\t\t})\r\n\t};\r\n//去空格\r\n\ttrim = (str) => {\r\n\t\treturn str.replace(/^(\\s|\\u00A0)+/,'').replace(/(\\s|\\u00A0)+$/,'');\r\n\t};\r\n//点击确定按钮\r\n\thandleAffirmClick = () => {\r\n\r\n\t\t//回调确定方法\r\n\t\tlet obj = {};\r\n\t\t// obj.value = this.state.valueCon;\r\n\t\t// obj.label = this.props.name;\r\n\t\tobj[ this.props.name] = this.state.valueCon;\r\n\t\t//判断是否需要id\r\n\t\tif(this.props.idName){\r\n\t\t\tobj[this.props.idName] = this.props.id;\r\n\t\t}\r\n\t\tthis.props.handleOk(obj);\r\n\r\n\t\t//关闭输入框\r\n\t\tthis.setState({\r\n\t\t\tshowInput:this.props.isShow\r\n\t\t})\r\n\t};\r\n//input改变\r\n\thandleChange = (e) => {\r\n\t\tconsole.log(e.target.value);\r\n\t\tthis.setState({\r\n\t\t\tvalueCon:e.target.value\r\n\t\t})\r\n\t};\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({\r\n\t\t\tvalueCon:this.props.value,\r\n\t\t})\r\n\t}\r\n\thandleDeleteClick = () =>{\r\n\t\tlet obj = {};\r\n\t\t// obj.value = this.state.valueCon;\r\n\t\t// obj.label = this.props.name;\r\n\t\tobj[ this.props.name] = this.state.valueCon;\r\n\t\t//判断是否需要id\r\n\t\tif(this.props.idName){\r\n\t\t\tobj[this.props.idName] = this.props.id;\r\n\t\t}\r\n\t\tthis.props.handleDelete(obj);\r\n\t};\r\n\r\n\r\n\trender () {\r\n\t\tconst item = this.props.item;\r\n\r\n\t\tconst unfinish = {\r\n\t\t\tbackgroundColor: '#DFFCB5',\r\n\t\t\tcolor: '#2EB872',\r\n\t\t};\r\n\r\n\t\tconst finish = {\r\n\t\t\tbackgroundColor: '#FFFA9D',\r\n\t\t\tcolor: '#FF9A3C',\r\n\t\t\ttextDecoration: 'line-through'\r\n\t\t}\r\n\r\n\t\tvar itemStyle = item.status === 0 ? unfinish : finish;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<li key={item.id} style={itemStyle}>\r\n\t\t\t\t<span \r\n\t\t\t\t\tonClick={this.handleFinished} \r\n\t\t\t\t\tid={item.id}\r\n\t\t\t\t\tclassName=\"check-btn\"\r\n\t\t\t\t\tstyle={{backgroundColor: item.status === 0 ? '#fff' : '#A1EAFB'}}\r\n\t\t\t\t></span>\r\n\t\t\t\t{!this.state.showInput?\r\n\t\t\t\t\t<span className=\"update-btn\" onClick={this.handleChangeClick}>修改</span>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<div className=\"write_input\">\r\n\t\t\t\t\t\t<div className=\"write_input_name\">\r\n\t\t\t\t\t\t\t<input placeholder=\"请输入\"\r\n\t\t\t\t\t\t\t\t   defaultValue={this.props.value==='-'?'':this.props.value}\r\n\t\t\t\t\t\t\t\t   onChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t   style={{height:'25px',margin:'0'}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"write_input_hide\">\r\n\t\t\t\t\t\t\t<span type=\"check-circle\" className=\"write_input_hide_yes\" onClick={this.handleAffirmClick}>yes</span>\r\n\t\t\t\t\t\t\t<span type=\"close-circle\" className=\"write_input_hide_no\" onClick={this.handleCloseClick}>no</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t<span onClick={this.handleUpdate} className=\"update\">{ item.name }</span>\r\n\t\t\t\t<span onClick={this.handleDelete} className=\"delete-btn\">删除</span>\r\n\t\t\t\t{/*<span onClick={this.handleUpdate} className=\"update-btn\">修改</span>*/}\r\n\t\t\t</li>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ListItem;"]},"metadata":{},"sourceType":"module"}